import{a as _}from"./chunk-ELOYRRU6.js";import{C as l,Ca as h,Ha as v,Ka as w,O as s,Oa as b,T as p,Xa as S,ba as u,ca as f,f as r,ga as n,hb as y,ia as c,lb as C,mb as F,va as m,wa as a,xa as g,ya as d}from"./chunk-NACUJKL6.js";var j=(i,I,e)=>({disabled:i,"btn-outline-secondary":I,"btn-secondary":e}),q=(()=>{class i{constructor(e,o,t){this.profileService=e,this.router=o,this.userService=t,this.toggle=new f,this.isSubmitting=!1,this.destroyRef=s(p)}toggleFollowing(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(l(e=>e?this.profile.following?this.profileService.unfollow(this.profile.username):this.profileService.follow(this.profile.username):(this.router.navigate(["/login"]),r)),F(this.destroyRef)).subscribe({next:e=>{this.isSubmitting=!1,this.toggle.emit(e)},error:()=>this.isSubmitting=!1})}static{this.\u0275fac=function(o){return new(o||i)(n(_),n(y),n(C))}}static{this.\u0275cmp=c({type:i,selectors:[["app-follow-button"]],inputs:{profile:"profile"},outputs:{toggle:"toggle"},decls:3,vars:7,consts:[[1,"btn","btn-sm","action-btn",3,"click","ngClass"],[1,"ion-plus-round"]],template:function(o,t){o&1&&(a(0,"button",0),h("click",function(){return t.toggleFollowing()}),d(1,"i",1),v(2),g()),o&2&&(m("ngClass",b(3,j,t.isSubmitting,!t.profile.following,t.profile.following)),u(2),w(" \xA0 ",t.profile.following?"Unfollow":"Follow"," ",t.profile.username," "))},dependencies:[S],encapsulation:2})}}return i})();export{q as a};
